<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <!-- TODO: remove cache invalidation before going live -->
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <meta http-equiv="content-type" content="text/html; charset=">
    <meta name="viewport" id="screenViewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Pieni piiri - MuistiluuriKymppi</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- TODO: test -->
    <link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet">
    <script src="http://vjs.zencdn.net/c/video.js"></script>

    <!-- styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- templates start -->

    <script id="audInterTemplate" type="text/template">
        <div class="distractions">
            <div class="text-center horizontal-center image hidden">
                <h3>Paina Löytyi! kun näet eläimen</h3>
                <img src="" />
                <button class="btn btn-primary bigger check">Löytyi!</button>
            </div>
        </div>
        <div class="sounds hidden"></div>
        <div class="text-center input-container hidden span12">
            <div class="inputs span7"></div>
            <button class="btn span2 below bigger finish">Valmis</button>
        </div>

        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
    </script>

    <script id="KIMTemplate" type="text/template">
        <div class="items targets text-center">
            <% _.each(targets, function(targets) { %>
                <img class="item" src="./pics/KIM/<%=targets%>.png">
            <% }); %>
        </div>

        <div class="items allItems hidden text-center">
            <% _.each(bluffs, function(bluffs) { %>
                <img class="kim-item selectable" src="./pics/KIM/<%=bluffs%>.png">
            <% }); %>
            <button class="btn bigger bottom-right finish">Valmis</button>
        </div>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
    </script>

    <script id="salasanaTemplate" type="text/template">
        <div class="span5 guesses"></div>


        <div class="span6 myForm">

                <p class="dot-hint"><span class="bullet"> &bull; </span>= oikea kirjain, oikealla paikalla</p>
                <p class="dot-hint"><span class="bullet"> &#9702; </span>= oikea kirjain, väärällä paikalla</p>

                <p class="pw-hint">
                    <span>Kirjoita päättelemäsi salasana</span>
                </p>

                <input class="serial-input input-large" type="text" placeholder="Paina tähän" />
                <button class="btn bigger submit">Valmis</button>

        </div>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
    </script>

    <script id="konstruointiTemplate" type="text/template">

        <div class="text-center construct-body">

            <div class="span6 construct">

                <div class="firstRow">
                    <% _.each(firstRow, function(firstRow) { %>
                    <img class="firstRow" src="./pics/konstruktio/<%= firstRow %>.png">
                    <% }) %>
                </div>

                <div class="secondRow">
                    <% _.each(secondRow, function(secondRow) { %>
                    <img class="secondRow" src="./pics/konstruktio/<%= secondRow %>.png">
                    <% }) %>
                </div>

                <div class="thirdRow">
                    <% _.each(thirdRow, function(thirdRow) { %>
                    <img class="thirdRow" src="./pics/konstruktio/<%= thirdRow %>.png">
                <% }) %>

            </div>

            </div>


            <div class="span6 construct-answer">
                <div class="firstRow">
                    <% _.each(answerFirstRow, function(answerFirstRow) { %>
                        <img class="firstRow answerBlock" src="./pics/konstruktio/<%= answerFirstRow %>.png">
                    <% }) %>
                </div>
                <div class="secondRow">
                    <% _.each(answerSecondRow, function(answerSecondRow) { %>
                        <img class="secondRow answerBlock" src="./pics/konstruktio/<%= answerSecondRow %>.png">
                    <% }) %>
                </div>
                <div class="thirdRow">
                    <% _.each(answerThirdRow, function(answerThirdRow) { %>
                        <img class="thirdRow answerBlock" src="./pics/konstruktio/<%= answerThirdRow %>.png">
                    <% }) %>
                </div>
            </div>

        </div>



        <div class="text-center answerblocks ">
            <% _.each(answerChoices, function(answerChoices) { %>
            <img class="selectable" src="<%= answerChoices %>" />
            <% }) %>
        </div>

        <button class="btn btn-large bottom-right bigger finish">Valmis</button>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>

    </script>

    <script id="sanojenTunnistaminenTemplate" type="text/template">
        <div class="timer text-center">
            <input class="knob" data-width="100" data-fgColor="#095aa5" data-displayInput=true value="240">
        </div>
        <div class="clock bigger text-center">4 minuuttia 0 sekuntia jäljellä</div>
        <h2 class="hint">Etsit ryhmän: <span class="text-success"> <%= textCategory %> </span> sanoja</h2>
        <div class="selector"> </div>
        <div class="scroller"> <%= text %> </div>

        <button class="btn btn-primary bigger onTarget">Löytyi!</button>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
    </script>

    <script id="sarjamuistiTemplate" type="text/template">

            <div class="text-center ansArray">
                <% _.each(numArray, function(numArray) { %>

                <div class="answers hidden"><%= numArray %></div>

                <% }) %>
            </div>

            <div class="text-center numArray">
                <% _.each(numArray, function(numArray) { %>

                  <div class="box available"><%= numArray %></div>

                <% }) %>
            </div>
            <div class="text-center numOptions hidden">
                <% _.each(choices, function(choices) { %>
                    <div class="choices"><%= choices %></div>
                <% }) %>
            </div>
        <button class="btn btn-large bottom-right bigger finish" disabled="disabled" >Valmis</button>
        <button class="btn btn-large bottom-center-right bigger ser-check" disabled="disabled" >Tarkista</button>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
    </script>

    <script id="tekstiviestiAnswerTemplate" type="text/template">
        <div class="txt-answer-tmpl">

            <div class="span5">
                    <% _.each(questions, function(questions) { %>
                            <button class="btn btn-block q-button"><%= questions %></button>
                     <% }); %>
            </div>
            <div class="span4 options-area">
                <div class="options options-senders">
                    <% _.each(senders, function(senders) { %>
                    <button class="btn btn-block a-button"><%= senders %></button>
                    <% }); %>
                </div>
                <div class="options options-receivers hidden">
                    <% _.each(receivers, function(receivers) { %>
                    <button class="btn btn-block a-button"><%= receivers %></button>
                    <% }); %>
                </div>
                <div class="options options-places hidden">
                    <% _.each(places, function(places) { %>
                    <button class="btn btn-block a-button"><%= places %></button>
                    <% }); %>
                </div>
                <div class="options options-times hidden">
                    <% _.each(times, function(times) { %>
                    <button class="btn btn-block a-button"><%= times %></button>
                    <% }); %>
                </div>
                <div class="options options-items hidden">
                    <% _.each(items, function(items) { %>
                    <button class="btn btn-block a-button"><%= items %></button>
                    <% }); %>
                </div>
            </div>

            <div class="span3 txt-answers"></div>

        </div>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
        <button class="btn btn-large bottom-right bigger txt-check">Tarkista</button>
        <button class="btn btn-large bottom-center-right bigger hidden correct-answers">Näytä oikeat</button>
        <button class="btn btn-large bottom-right bigger hidden continue">Jatka</button>
    </script>

    <script id="tekstiviestiGameTemplate" type="text/template">
    <div class="phone-container">
        <audio id="audio" autoplay="autoplay" src="sounds/iphone-sms.mp3" type="audio/mpeg" ></audio>
        <img class="phone center" src="img/device-iphone5.png" />
        <div class="textmessage txt-left">
            <%= message %>
        </div>
    </div>
     <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
    </script>


    <script id="kuvaEtsintaTemplate" type="text/template">

        <div class="item-collection">
            <% _.each(myArr, function(myArr) { %>
                <img class="selectable" src=" <%= myArr.itemPic %> " />
            <% }); %>
        </div>
        <hr class="dark"/>
        <div class="text-center">
            <% _.each(targetPic, function(targetPic) { %>
                <img class="target" src="<%= targetPic.targetPic %>" />
            <% }); %>
            <button class="btn btn-large bottom-right bigger finish">Valmis</button>
            <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
        </div>

    </script>


    <script id="sudokuTemplate" type="text/template">
        
        <audio id="sudokuInvalidMoveSoundFX" src="sounds/iphone-sms.mp3" type="audio/mpeg"></audio>
        
        <div class="sudoku-wrapper sudoku-wrapper-symbol-type-<%= symbols.type %>">
            <div class="sudoku-grid">
                <div class="sudoku-grid-content">
                    <% _.times(grid.numberOfRows, function(rowIndex) { %>
                        <div class="sudoku-grid-row">
                            <% _.times(grid.numberOfCols, function(colIndex) { %>
                                <div id="sudokuGridCell_<%= rowIndex * grid.numberOfCols + colIndex %>" class="sudoku-grid-cell" data-index="<%= rowIndex * grid.numberOfCols + colIndex %>">
                                    <div class="sudoku-grid-cell-content"></div>
                                </div>
                                <% if( colIndex < grid.numberOfCols - 1 && ( colIndex + 1 ) % grid.numberOfRegionCols == 0 ) { %>
                                    <div class="sudoku-grid-cell-divider"></div>
                                <% } %>
                            <% }); %>
                        </div>
                        <% if( rowIndex < grid.numberOfRows - 1 && ( rowIndex + 1 ) % grid.numberOfRegionRows == 0 ) { %>
                            <div class="sudoku-grid-row-divider"></div>
                        <% } %>
                    <% }); %>
                </div>
                <% if( checkAvailable ) { %>
                    <div class="sudoku-grid-conflicts-overlay hidden">
                        <div class="sudoku-grid-conflicts-overlay-rows">
                            <% _.times(grid.numberOfRows, function(rowIndex) { %>
                                <div id="sudokuGridConflictsOverlayRow_<%= rowIndex %>" class="sudoku-grid-conflicts-overlay-row"></div>
                                <% if( rowIndex < grid.numberOfRows - 1 && ( rowIndex + 1 ) % grid.numberOfRegionRows == 0 ) { %>
                                    <div class="sudoku-grid-conflicts-overlay-row-divider"></div>
                                <% } %>
                            <% }); %>
                        </div>
                        <div class="sudoku-grid-conflicts-overlay-cols">
                            <% _.times(grid.numberOfCols, function(colIndex) { %>
                                <div id="sudokuGridConflictsOverlayCol_<%= colIndex %>" class="sudoku-grid-conflicts-overlay-col">
                                    <div class="sudoku-grid-conflicts-overlay-col-content"></div>
                                </div>
                                <% if( colIndex < grid.numberOfCols - 1 && ( colIndex + 1 ) % grid.numberOfRegionCols == 0 ) { %>
                                    <div class="sudoku-grid-conflicts-overlay-col-divider"></div>
                                <% } %>
                            <% }); %>
                        </div>
                        <div class="sudoku-grid-conflicts-overlay-regions">
                            <% _.times(grid.numberOfRegions, function(regionIndex) { %>
                                <div id="sudokuGridConflictsOverlayRegion_<%= regionIndex %>" class="sudoku-grid-conflicts-overlay-region"></div>
                                <% if( regionIndex < grid.numberOfRegions - 1 && ( regionIndex + 1 ) % ( grid.numberOfCols / grid.numberOfRegionCols ) != 0 ) { %>
                                    <div class="sudoku-grid-conflicts-overlay-region-horizontal-divider"></div>
                                <% } %>
                                <% if( regionIndex < grid.numberOfRegions - 1 && ( regionIndex + 1 ) % ( grid.numberOfCols / grid.numberOfRegionCols ) == 0 ) { %>
                                    <div class="sudoku-grid-conflicts-overlay-region-vertical-divider"></div>
                                <% } %>
                            <% }); %>
                        </div>
                    </div>
                <% } %>
            </div>
            <div class="sudoku-toolbar">
                <% _.each(symbols.gridSymbols, function(symbol) { %>
                    <div id="sudokuToolbarCell_<%= symbol.index %>" class="sudoku-toolbar-cell" data-index="<%= symbol.index %>" data-number="<%= symbol.number %>">
                        <% if( symbols.type == "number" ) { %>
                            <div class="sudoku-toolbar-cell-content"><%= symbol.number %></div>
                        <% } else if( symbols.type == "image" ) { %>
                            <div class="sudoku-toolbar-cell-content">
                                <img src="./pics/<%= symbols.imageCategory %>/<%= symbol.number %>.png" class="sudoku-toolbar-cell-image" alt="" />
                            </div>
                        <% } %>
                    </div>
                <% }); %>
                <div id="sudokuToolbarCell_<%= symbols.eraserSymbol.index %>" class="sudoku-toolbar-cell" data-index="<%= symbols.eraserSymbol.index %>" data-number="<%= symbols.eraserSymbol.number %>">X</div>
            </div>
            <div class="clearfix"></div>
            <div class="sudoku-actions">
                <button class="btn btn-large sudoku-action-hint hidden">Vihje</button>
                <button class="btn btn-large sudoku-action-check hidden">Tarkista</button>
                <button class="btn btn-large sudoku-action-continue hidden">Jatka</button>
            </div>
        </div>
        
        <button class="btn btn-large bottom-right bigger finish hidden">Tuloksiin</button>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
        
    </script>

    <script id="ristinollaTemplate" type="text/template">
        
        <div class="fiar-grid">
            <% _.each(rows, function(row) { %>
                <div class="fiar-grid-row">
                    <% _.each(row.cells, function(cell) { %>
                        <div id="fiarGridCell_<%= cell.row %>_<%= cell.col %>" class="fiar-grid-cell fiar-grid-cell-selectable" data-row="<%= cell.row %>" data-col="<%= cell.col %>"></div>
                    <% }); %>
                </div>
            <% }); %>
        </div>
        
        <button class="btn btn-large bottom-right bigger finish hidden">Tuloksiin</button>
        <button class="btn btn-large bottom-right bigger reset hidden">Jatka</button>
        <button class="btn btn-large bottom-left bigger quit">Lopeta</button>
        
    </script>


    <script id="resultsViewTemplate" type="text/template">


        <h2 class="title">Tulokset</h2>
        <div class="span5">
            <div class="well">

                <div class="results pull-left">
                    <p>Vaikeustaso: </p>

                    <% _.each(data, function(data) { %>
                        <p><%= data.name %></p>
                    <% }); %>

                </div>

                <div class="results align-right">
                    <p> <%= difficulty %></p>

                    <% _.each(data, function(data) { %>
                        <p><%= data.value %></p>
                     <% }); %>


                </div>
            </div>
            <button class="btn btn-success btn-block bigger new-game">Pelaa uudestaan</button>
        </div>



        <div class="span6">
            <div class="alert alert-success alert-bigger">
                Paransit omaa ennätystäsi!
            </div>

            <div class="well">
                <h3>Henkilökohtainen ennätyksesi:</h3>
                <div class="results pull-left">
                    <p>Vaikeustaso: </p>

                    <% _.each(data, function(data) { %>
                    <p><%= data.name %></p>
                    <% }); %>

                </div>

                <div class="results align-right">
                    <p> <%= difficulty %></p>

                    <% _.each(data, function(data) { %>
                    <p><%= data.value %></p>
                    <% }); %>


                </div>
            </div>

        </div>
        <div class="clearfix"></div>

    </script>



    <script id="videoTemplate" type="text/template">

        <%if (typeof(video) != "undefined") { %>
            <iframe class="center" width="1120" height="630" src="<%= video %>?rel=0&vq=hd720&autohide=1&amp;showinfo=0" frameborder="0"></iframe>
        <% }else{ %>
            <h4>Esimerkkivideo puuttuu</h4>
        <% } %>

    </script>

    <script id="gameTemplate" type="text/template">

        <div class="rounded img-helper">
            <img src="<%= coverImage %>" />
        </div>

        <div class="wrap">
            <h4><%= title %></h4>
        </div>

    </script>


    <script id="preGameTemplate" type="text/template">


        <div class="span6 guide">
            <p><%= guide %></p>
        </div>
        <div class="span6 pull-right">


            <h3>Valitse vaikeusaste:</h3>
            <div class="well ">
                <p><button class="easy btn btn-large bigger btn-block">Taso I</button></p>
                <p><button class="medium btn btn-large bigger btn-block">Taso II</button></p>
                <p><button class="hard btn btn-large bigger btn-block">Taso III</button></p>
                <% if( showJoker ) { %>
                    <p><button class="joker btn btn-large bigger btn-block">Jokeri</button></p>
                <% } %>
            </div>

            <h3 class="categoryTitle tight hidden">Valitse tästä tehtävän kuva-aihe:</h3>
            <h3 class="wordsTitle tight hidden">Valitse tästä tehtävän sana-aihe:</h3>
            <div id="categoryCarousel" class="carousel slide hidden">
                <ol class="carousel-indicators">
                    <li data-target="#categoryCarousel" data-slide-to="0"></li>
                    <li data-target="#categoryCarousel" data-slide-to="1"></li>
                    <li data-target="#categoryCarousel" data-slide-to="2"></li>
                    <li data-target="#categoryCarousel" data-slide-to="3"></li>
                </ol>

                <div class="carousel-inner">
                    <div class="item slide1">

                            <div class="slide-borders text-center">
                                <% _.each(slide1, function(slide1) { %>
                                    <div class="clicker">&nbsp;</div> <img src="<%= slide1 %>" />
                                <% }); %>

                                <div class="cat-titles">

                                    <% _.each(slide1Titles, function(slide1Titles) { %>
                                    <div class="title-background"><h4><%= slide1Titles %></h4></div>
                                    <% }); %>

                                </div>

                            </div>
                    </div>
                    <div class="item slide2">

                        <div class="slide-borders text-center">
                            <% _.each(slide2, function(slide2) { %>
                            <div class="clicker">&nbsp;</div> <img src="<%= slide2 %>" />
                            <% }); %>

                            <div class="cat-titles">

                                <% _.each(slide2Titles, function(slide2Titles) { %>
                                <div class="title-background"><h4><span><%= slide2Titles %></span></h4></div>
                                <% }); %>

                            </div>
                        </div>

                    </div>
                    <div class="item slide3">

                        <div class="slide-borders text-center">
                            <% _.each(slide3, function(slide3) { %>
                            <div class="clicker">&nbsp;</div> <img src="<%= slide3 %>" />
                            <% }); %>

                            <div class="cat-titles">

                                <% _.each(slide3Titles, function(slide3Titles) { %>
                                    <div class="title-background"><h4><span><%= slide3Titles %></span></h4></div>
                                <% }); %>

                            </div>
                        </div>

                        </div>
                    <div class="item slide4">
                        <div class="slide-borders text-center">
                            <% _.each(slide4, function(slide4) { %>
                            <div class="clicker">&nbsp;</div> <img src="<%= slide4 %>" />
                            <% }); %>

                            <div class="cat-titles">

                                <% _.each(slide4Titles, function(slide4Titles) { %>
                                    <div class="title-background"><h4><span><%= slide4Titles %></span></h4></div>
                                <% }); %>

                            </div>
                        </div>

                    </div>

                </div>

                <a class="slider-control left" href="#categoryCarousel" data-slide="prev">&lsaquo;</a>
                <a class="slider-control right" href="#categoryCarousel" data-slide="next">&rsaquo;</a>

            </div>


        </div>
        <div class="clearfix"></div>
        <div class="pregame-options">
        <button class="btn btn-large btn-success pull-right bigger" id="play-game">Aloita</button>
        <h4 class="pull-right spacer">Tai</h4>
        <button class="btn btn-large pull-right bigger preview">Katso esimerkkisuoritus</button>
        </div>

    </script>

    <script id="mainHeaderTmpl" type="text/template">
        <h2>MuistiluuriKymppi</h2>
        <button class="btn btn-large backToService" id="back-button">Takaisin</button>

    </script>

    <script id="backHeaderTmpl" type="text/template">
        <h2><%= title %></h2>
        <button class="btn btn-large back-root"><i class="icon-home"></i> Alkuun</button>
    </script>

    <script id="historyBackTmpl" type="text/template">
        <h2><%= title %></h2>
        <button class="btn btn-large back-history"><i class="icon-chevron-left"></i> Takaisin</button>
    </script>

    <!-- templates end -->

</head>

<body>

    <div class="container">
        <div class="modal"><p class="text-center bigger">Sisältöä ladataan...</p></div>
        <div class="row-fluid">
            <div id="header"></div>

            <div id="content"></div>
        </div>


        <div class="clearfix"></div>

        <footer>
         <!--   <p class="navbar-fixed-bottom muted">&copy Pieni piiri 2013</p> -->
        </footer>

    </div>

    <!-- javascript -->
    <script src="js/lib/jquery-1.9.1.min.js"></script>
    <script src="js/lib/underscore-min.js"></script>
    <script src="js/lib/backbone.min.js"></script>
    <script src="js/lib/bootstrap.min.js"></script>
    <script src="js/lib/fastclick.min.js"></script>
    <script src="js/lib/jquery.transit.min.js"></script>
    <script src="js/lib/jquery.imagesloaded.min.js"></script>
    <script src="js/lib/jquery.touchSwipe.min.js"></script>
    <script src="js/lib/jquery.knob.js"></script>

    <script src="js/helpers/helpers.js"></script>
    <script src="js/models/settings.js"></script>
    <script src="js/models/game.js"></script>
    <script src="js/models/session.js"></script>
    <script src="js/collections/games.js"></script>

    <script src="js/views/gameview.js"></script>
    <script src="js/views/gamelistview.js"></script>
    <script src="js/views/pregameview.js"></script>
    <script src="js/views/headerview.js"></script>
    <script src="js/views/videoview.js"></script>
    <script src="js/views/resultsview.js"></script>
    <script src="js/views/playedgameview.js"></script>

    <script src="js/views/kuvaetsinta.js"></script>
    <script src="js/views/tekstiviestigameview.js"></script>
    <script src="js/views/tekstiviestianswerview.js"></script>
    <script src="js/views/sarjamuistigameview.js"></script>
    <script src="js/views/sanojentunnistaminen.js"></script>
    <script src="js/views/konstruointi.js"></script>
    <script src="js/views/salasana.js"></script>
    <script src="js/views/KIM.js"></script>
    <script src="js/views/audinterf.js"></script>
    <script src="js/views/sudoku.js"></script>
    <script src="js/views/ristinolla.js"></script>

    <script src="js/app.js"></script>
    <script src="js/router.js"></script>

    <!-- fastclick -->
    <script type="text/javascript">
        window.addEventListener('load', function() {
            new FastClick(document.body);
        }, false);
    </script>

</body>
</html>